<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="description" content="None" />
      <link rel="shortcut icon" href="img/favicon.ico" />
    <title>MovieDataset</title>
    <link rel="stylesheet" href="css/theme.css" />
    <link rel="stylesheet" href="css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
        <link href="assets/_mkdocstrings.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Home";
        var mkdocs_page_input_path = "index.md";
        var mkdocs_page_url = null;
      </script>
    
    <script src="js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="." class="icon icon-home"> MovieDataset
        </a>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
                <li class="toctree-l1 current"><a class="reference internal current" href=".">Home</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#project-layout">Project layout</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#installation-instructions">Installation Instructions</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#getting-started-guide">Getting Started Guide</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#examples">Examples</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#cleaning_exampleipynb">Cleaning_Example.ipynb</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#moduletesting">ModuleTesting</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#api_example">API_Example</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#genre_example">Genre_Example</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#profit">profit</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#bdd-style-documentation">BDD-style documentation</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#contributing-guide">Contributing Guide</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#report-a-bug">Report a bug</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#make-changes">Make Changes</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#license">License</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#reference">Reference</a>
    </li>
        </ul>
    </li>
    </ul>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="rdlite/">RDlite</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="movieClean/">MovieClean</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="dashpro/">dashProject</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="normalization/">Normalization</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="api/">API</a>
                </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href=".">MovieDataset</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="." class="icon icon-home" alt="Docs"></a> &raquo;</li>
      <li>Home</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="welcome-to-the-moviedataset">Welcome to The MovieDataset</h1>
<p>This project aims to investigate various properties and relations in the context of past movies across languages and countries. There are more than 14 features and tens of thousands of data entries. For our group, we are primarily interested in which genres of movies are the most profitable. </p>
<p>To help with our analysis, we develop several modules to do cleaning, normalization, and visualization. This documentation is provided to get rid of the fuss and let external clients start their analysis right away.</p>
<h2 id="project-layout">Project layout</h2>
<pre><code>CSE314FINAL/
    API/
        API/                    # API module to access new movie data from imbd
            get_api_data.py
        setup.py
    dashProject/                # The dashboard app to visualize the data in an interactive way
        dashProject/
            data_process.py     # Helper functions to convert dataframe to dashboard objects
            tovi_dashboard.py   # The dashboard app
            db_UI.py            # The package of dashboard UI's
        setup.py
    Data/                       # The directory for clean data
        actors.csv
        clean_movie.csv
        collections.csv
        companies.csv
        countries.csv
        genres.csv
        keywords.csv
        languages.csv
        movies_names.csv
        ratings.csv
    Doc/                        # Folder for documentations
        docs/
            api.md
            dashpro.md
            index.md
            movieClean.md
            normalization.md
            rdlite.md
        site/                   # Documentation website source code
            ...
    MovieClean/                 # Python module for cleaning and normalizing dataset
        MovieClean/
            data_type.py
            genre_cleaning.py 
            norm.py
            ...
        setup.py
    Normalization/              # Normalization package for genre
        Normalization/
            normalize_genre.py 
        setup.py
    RDlite/                     # A lightweight relational database for dashboard
        RDlite/
            accessor.py
        setup.py

    API_Example.ipynb    # A jupyter notebook to demonstrate the API process
    Cleaning_Example.ipynb    # A jupyter notebook to demonstrate the cleaning process
    env.yml
    Genre_Example.ipynb    # A jupyter notebook to demonstrate the genre analysis process
    ModuleTesting.ipynb   # A jupyter notebook to demonstrate usages of RDlite
    profit.ipynb   # A jupyter notebook to demonstrate visualize and perform profit analysis
</code></pre>
<h2 id="installation-instructions">Installation Instructions</h2>
<ol>
<li>
<p>Pull the project from this github repo: https://github.com/movieData314/CSE314Final </p>
<p><code>git pull https://github.com/movieData314/CSE314Final</code> </p>
</li>
<li>
<p>Create conda environment from the included yml file</p>
<p><code>conda env create -f env.yml</code></p>
</li>
<li>
<p>Activate conda environments </p>
<p><code>conda activate general</code></p>
</li>
<li>
<p>Install the modules </p>
<p><code>pip install -e MovieClean
pip install -e API
...</code></p>
</li>
<li>
<p><Optional> Configure the RDlite module to aggregate clean data. (Work on clean data only) </p>
<p><code>FILE_PATH = &lt;absolute path to the data&gt;</code> </p>
</li>
<li>
<p>Configure the system path variable in db_UI.py </p>
<p><code>sys.path.append('&lt;local_path&gt;/cse314final')</code></p>
</li>
</ol>
<p>After these steps, you should be ready to use the modules within the cse314final folder. </p>
<p><strong>Notice</strong> that all of the modules are written in a way that they can be install using pip</p>
<p>Tip to load local package withou installing</p>
<pre><code>import sys
sys.path.append(&lt;pathToModule&gt;)
</code></pre>
<h2 id="getting-started-guide">Getting Started Guide</h2>
<p>With all the modules installed and set up, you are ready to start your own analysis using the movie data. For correlation analysis or ml model building we provide the following guide to get you prepared.</p>
<ol>
<li>
<p>Clean the data with MovieClean: extract json-style strings, fix dtypes and set index columns with tools provided in the module.</p>
</li>
<li>
<p>Normalize the data: make separate tables with different gradularity to optimize space usages and make the data easy to work with using <code>Normalization</code> module.</p>
</li>
<li>
<p>Add more data: The provided dataset contains movies prior to 2018. To add more recent movie information, use <code>API</code> module to retrieve the data from MovieDB.</p>
</li>
<li>
<p>Quick visualization: Before writing any code, use <code>dashProject</code> module to navigate through the sample data and visualize correlation and central tendency.</p>
</li>
<li>
<p>Visit the examplery notebooks for ideas or hint to use our modules.</p>
</li>
</ol>
<h2 id="examples">Examples</h2>
<h3 id="cleaning_exampleipynb">Cleaning_Example.ipynb</h3>
<p>This notebook shows how we clean the dataset so that they are in long form and could be merged with "df.join" syntax. </p>
<p>The primary diffculty is that multiple features store giant json format strings or list of json strings in a single cell, which violates the first normal form. Meanwhile, the fact that they are python strings adds to the difficulty of this task because python uses both single quote and double quote to wrap a string adeptively but python's json parser only recognizes double quotes. Therefore, we used a theoretical tool called the abstract syntax tree to reformat the string. </p>
<h3 id="moduletesting">ModuleTesting</h3>
<p>This notebook shows how to do aggregate on dataframes and retrieve the wanted data.</p>
<h3 id="api_example">API_Example</h3>
<p>This notebook shows examples of retrieving more movie data entries as complement to the existing ones.</p>
<h3 id="genre_example">Genre_Example</h3>
<p>This notebook shows how we normalize the genre feature for our analysis.</p>
<h3 id="profit">profit</h3>
<p>This notebook shows the workflow how we find the most profitable movie genre.</p>
<h2 id="bdd-style-documentation">BDD-style documentation</h2>
<p><strong>Title: Data Cleaning</strong></p>
<p><strong>As a</strong> Data Anlyst who just obtained the raw movie data <br />
<strong>I want</strong>  to clean the raw data <br />
<strong>So that</strong> the data contains no errors and no duplicates and makes sense for real movies <br /></p>
<p><strong>Scenario</strong> 1: The data should not have complex data structure. <br />
<strong>Given</strong> a dataset that has feature columns (like genre) with json encoded as single strings <br />
<strong>When</strong> we try to parse these columns <br />
<strong>Then</strong> the key-value pairs are decoded into a dataframe or series <br /></p>
<p><strong>Scenario</strong> 2: The numerals in the data should have plausible movie feature values <br />
<strong>Given</strong> a column that represents real values (like budget) but contains many 0’s <br />
<strong>When</strong> we clean this column <br />
<strong>Then</strong> 0’s are replaced by not-a-number flag <br /></p>
<p><strong>Scenario</strong> 3: The data should not have movie duplicates <br />
<strong>Given</strong> a dataset that contains exactly the same two rows <br />
<strong>When</strong> we clean this data <br />
<strong>Then</strong> duplicate rows (movies) are removed and the index is unique <br /></p>
<p><strong>Title</strong>: Data Normalization <br /></p>
<p><strong>As a</strong> data analyst who has cleaned the movie data <br />
<strong>I want</strong> rescale the dataset and split it up to form separate files with different granularity <br />
<strong>So that</strong> each file is optimized in size and properly indexed <br /></p>
<p><strong>Scenario</strong> 1: The index column in files should have the same dtypes <br />
<strong>Given</strong> two dataframes with the “id” column as the index but one column has strings rather than integers, <br />
<strong>When</strong> we normalize the data, <br />
<strong>Then</strong> all the index columns for the movies contain integers <br /></p>
<p><strong>Scenario</strong> 2: Each data entry should have unique index<br />
<strong>Given</strong> a dataframe of movie characters which cannot be identified by movie-id alone,<br />
<strong>When</strong> we normalize the data,<br />
<strong>Then</strong> both movie-id and the name of actor are used as index<br /></p>
<p><strong>Scenario</strong> 3: Data with its own granularity should be split into a new table,<br />
<strong>Given</strong> a dataframe of actors that is a many-to-many relationship to movie-id<br />
<strong>When</strong> normalize the data,<br />
<strong>Then</strong> a junction table for actors and movie-id is separated from rest of the movie data<br /></p>
<p><strong>Title</strong>: Aggregation<br /></p>
<p><strong>As a</strong> data analyst who wants to explore the movie data<br />
<strong>I want</strong> to aggregate the tables containing the data we want,<br />
<strong>So that</strong>: I can calculate correlation and visualize the movie data<br /></p>
<p><strong>Scenario</strong> 1: Separate tables should be able to be joined together using keys and foreign keys<br />
<strong>Given</strong> a one-to-many table of genre data and a one-to-one movie info table,<br />
<strong>When</strong> we merge the tables together,<br />
<strong>Then</strong> the two tables are joined together based the movie-id column<br /></p>
<p><strong>Title</strong>: Dashboard<br /></p>
<p><strong>As a</strong> data analyst who obtained the movie data for the first time,<br />
<strong>I want</strong> to do some quick exploration on the data<br />
<strong>So that</strong> I have a sense of data about its structure, data types and other aspects<br /></p>
<p><strong>Scenario</strong> 1: The dashboard app should provides some samples of the movie data <br />
<strong>When</strong> we want to look at the data itself,<br />
<strong>Then</strong> the dashboard samples a small chunk of data from each table present the joined table to the user<br />
<strong>Then</strong> the user can navigate through the data using scroll bars and buttons<br /></p>
<p><strong>Scenario</strong> 2: The dashboard app should visualize selected data <br />
<strong>Given</strong> all the clean data,<br />
<strong>When</strong> the user selectes two features (budget, revenue, etc.) from the data,<br />
<strong>Then</strong> the app decides between a scatter plot or a bar plot to draw based on the data types<br />
<strong>Then</strong> the app present a plot that allows the user to zoom in with cursor<br /></p>
<p><strong>Scenario</strong> 3: The dashboard app should calculate the correlation<br />
<strong>Given</strong> two numerical features (budget, revenue, etc.) selected by the user,<br />
<strong>When</strong> the user hits the “submit” button,<br />
<strong>Then</strong> the app presents a table including information such as quartiles and correlations<br /></p>
<p><strong>Title</strong>: API
<strong>As a</strong> movie lover 
<strong>I want</strong> to gather information about recent movies
<strong>So that</strong> the movie dataset is more complete</p>
<p><strong>Scenario</strong> 1: The TheMovieDB api shoud return movies released after 2017
<strong>When</strong> we request the movies for TheMovieDB api,
<strong>Then</strong> the api returns a dataframe of the movie's details</p>
<h2 id="contributing-guide">Contributing Guide</h2>
<p>Project made by Yan Zhou, Patrick Lynch, Won Young Kang, Tovi Tu</p>
<p>First, thanks for for considering contributing to our project! There are many ways you can help out.</p>
<ol>
<li>Reporting a bug</li>
<li>Submitting a fix</li>
<li>Proposing new features</li>
</ol>
<h3 id="report-a-bug">Report a bug</h3>
<p>If you spot a problem with the docs, report the issue by opening a new <a href="https://github.com/movieData314/CSE314Final">issue</a>. </p>
<h3 id="make-changes">Make Changes</h3>
<p>We Use Github <a href="https://docs.github.com/en/get-started/quickstart/github-flow">Flow</a>, So All Code Changes Happen Through Pull Requests.</p>
<p>When your code is ready to be submitted, <a href="https://github.com/movieData314/CSE314Final/pulls">submit a pull request</a> to begin the code review process.</p>
<ol>
<li>Fork the repo and create your branch from <code>main</code>.</li>
<li>If you've added code that should be tested, add tests.</li>
<li>If you've changed APIs, update the documentation.</li>
<li>Issue that pull request!</li>
</ol>
<h3 id="license">License</h3>
<p>By contributing, you agree that your contributions will be licensed under its WUSTL License.</p>
<h3 id="reference">Reference</h3>
<p>This document was adapted from the open-source contribution guidelines <a href="https://gist.github.com/briandk/CONTRIBUTING.md">here</a> and also from yahoo <a href="https://yahoo.github.io/oss-guide/docs/publishing/publishing-template/Contributing.html">here</a></p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="rdlite/" class="btn btn-neutral float-right" title="RDlite">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
      <span><a href="rdlite/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '.';</script>
    <script src="js/theme_extra.js" defer></script>
    <script src="js/theme.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>

<!--
MkDocs version : 1.4.2
Build Date UTC : 2022-12-21 01:04:07.385360+00:00
-->
